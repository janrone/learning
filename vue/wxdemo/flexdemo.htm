<!DOCTYPE html>
<html>

<head>
    <title>发现</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <script type="text/javascript" src="js/autosize.js"></script>
    <script type="text/javascript" src="js/vue.js"></script>
    <script type="text/javascript" src="js/vue-resource.js"></script>

    <style>
        @font-face {
            font-family: 'pfm';
            src: url('./assets/font/PingFangSC-Medium.ttf');
        }

        @font-face {
            font-family: 'pfr';
            src: url('./assets/font/PingFangSC-Regula.ttf');
        }

        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        .header {
            height: 0.88rem;
            display: flex;
            align-items: center;
            background-color: #ffffff;
        }

        #title {
            margin-left: 0.32rem;
            font-size: 0.4rem;
            font-weight: 500;
            font-family: pfm;
        }

        .container {
            height: 1.1rem;
            background-color: #ffffff;
            display: flex;
        }

        .container .top{
            height: 1.1rem;
            background-color: #ffffff;
            display: flex;
        }

        .container .left {
            display: flex;
            align-items: center;
            justify-content: center;
            flex: 0 0 1.12rem;
        }

        .container .right {
            display: flex;
            align-items: center;
            flex: 0 0 200px;
            padding-right: 0.16rem;
            justify-content: flex-end;
        }

        .container .main {
            margin: 0;
            display: flex;
            align-items: center;
            flex: auto;
        }

        .text_name {
            font-size: 0.32rem;
            font-family: pfr;
        }

        #line {
            height: 0.01rem;
            background-color: #eeeeee;
        }

        #gap {
            height: 0.32rem;
            background-color: #fafafa;
        }

        .point {
            width: 0.16rem;
            height: 0.16rem;
            background: red;
            border-radius: 50%;
        }
    </style>

</head>
<div class="header">
    <span id="title">发现</span>
</div>

<div id="line"></div>
<div id="app">

    <div v-for="item in lists">
        <div class="container">
            <div class="left">
                <img style="width: 0.48rem; height: 0.48rem" :src="item.src">
            </div>
            <div class="main">
                <label class="text_name"> {{item.name}}</label>
            </div>
            <div class="right">
                <div class="point" v-if="item.num > 0"></div>
                <img style="width: 0.48rem; height: 0.48rem" src="./assets/image/img_arrow.png">
            </div>
        </div>

        <div id="gap" v-if="item.group"></div>
        <div id="line" v-else style="margin-left:1.12rem"></div>
    </div>

</div>

<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
        var vm = new Vue({
            el: '#app',
            data: {
                lists: [
                    //{
                //         'group': false,
                //         'name': '续班统计',
                //         'num': 18,
                //         'src': './assets/image/img_xbtj.png'
                //     },
                //     {
                //         'group': false,
                //         'name': '云盘',
                //         'num': 0,
                //         'src': './assets/image/img_yp.png'
                //     },
                //     {
                //         'group': true,
                //         'name': '任务',
                //         'num': 0,
                //         'src': './assets/image/img_yp.png'
                //     },
                //     {
                //         'group': true,
                //         'name': '续班排行榜',
                //         'num': 0,
                //         'src': './assets/image/img_xbphb.png'
                //     },
                //     {
                //         'group': false,
                //         'name': '异常考勤申诉',
                //         'num': 1,
                //         'src': './assets/image/img_yckq.png'
                //     },
                //     {
                //         'group': true,
                //         'name': '泡泡双师',
                //         'num': 0,
                //         'src': './assets/image/img_ppsh.png'
                //     },
                //     {
                //         'group': false,
                //         'name': '意见反馈',
                //         'num': 25,
                //         'src': './assets/image/img_yjfk.png'
                //     }
                ]
            },
            methods: {
                getList: function () {
                    this.$http.jsonp('http://www.mocky.io/v2/5c500bc43300005b2cc5865a', { credentials: true })
                    // this.$http.get('http://www.mocky.io/v2/5c5009a63300005b2cc58652')
                        .then((res) => {
                            this.lists = res.data
                            console.log(res.data)
                        }, (err) => {
                            console.log(err)
                        })
                }
            }
        });

        vm.getList();
    }, false);
</script>